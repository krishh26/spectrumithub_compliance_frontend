<div class="container-fluid p-3">
  <!-- Page Title -->
  <div class="page-title mb-4">
    <h2 class="d-flex align-items-center">
      <a (click)="back()" class="me-2 text-dark">
        <i class="bi bi-arrow-left-circle"></i>
      </a>
      Upload Sub Policy
    </h2>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <form [formGroup]="policyForm" (ngSubmit)="submitForm()">
        <!-- Row 1: Policy Name & Version -->
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="fw-bold">Policy Name:</label>
            <select class="form-select" formControlName="policyId">
              <option *ngFor="let policy of policyList" [value]="policy._id">
                {{ policy.name }}
              </option>
            </select>
            <small class="text-danger" *ngIf="submitted && f['policyId'].errors?.['required']">
              Policy name is required
            </small>
          </div>

          <div class="col-md-6">
            <label class="fw-bold">Version:</label>
            <input type="text" class="form-control" placeholder="Enter version (e.g., 2.20)"
              formControlName="version" />
            <small class="text-danger" *ngIf="submitted && f['version'].errors?.['required']">
              Policy version is required
            </small>
          </div>
        </div>

        <!-- Row 2: Name & Description -->
        <div class="row mb-3">
          <!-- <div class="col-md-6 mb-3">
            <label class="fw-bold">Name:</label>
            <input type="text" class="form-control" placeholder="Enter sub-policy name" formControlName="name" />
            <small class="text-danger" *ngIf="submitted && f['name'].errors?.['required']">
              Name is required
            </small>
          </div> -->

          <label class="fw-bold">Description :</label>
          <div class="NgxEditor__Wrapper">
            <ngx-editor-menu [editor]="editor" [toolbar]="toolbar" style="padding: 15px !important;">
            </ngx-editor-menu>
            <ngx-editor [editor]="editor" rows="5" formControlName="description" [disabled]="false"
              [placeholder]="'Type here...'"></ngx-editor>
          </div>

        </div>

        <!-- Submit Button: Right Aligned & 1/4 Width -->
        <div class="row">
          <div class="col-md-9"></div> <!-- Empty space -->
          <div class="col-lg-3 col-xl-3 col-md-3 cols-m-3 col-12 text-end">
            <button type="submit" class="btn btn-primary w-100">
              <i class="bi bi-cloud-upload"></i> Upload Sub Policy
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Loading Spinner -->
<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
